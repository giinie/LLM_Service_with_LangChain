# 랭체인으로 LLM 기반의 AI 서비스 개발하기 - 서지영

## 목차

1. LLM 훑어보기
2. LLM 활용하기
3. RAG 훑어보기
4. 랭체인 익숙해지기
5. 랭체인으로 RAG 구현하기
    1. LLM을 이용한 간단한 챗봇
    2. 랭체인과 챗GPT로 RAG 기반의 챗봇
    3. PDF를 요약해주는 웹사이트
    4. PDF 파일에 대한 독립형 질문을 하는 챗봇
    5. 대화형 챗봇
    6. 번역 서비스
    7. 메일 작성기
    8. LLM을 이용해서 CSV 파일 분석
6. LLM을 이용한 서비스 알아보기

---

## 1. LLM 훑어보기

### 언어 모델(Language Model)

- 통계적 언어 모델
- 신경망 언어 모델
- 트랜스포머

### LLM 생태계

- Infrastructure Layer
- Application Layer

### LLM, GAI, SLM

- Generative AI
- prompt, completion
- Small Language Model

### LLM 생성 과정

1. **데이터 수집 및 준비**
   - 데이터 수집 > 데이터 정제 > 데이터 전처리 > 데이터 형식 변경
   - 데이터 전처리 : 토큰화(tokenization), 정규화
2. **모델 설계**
   - 신경망 아키텍처(주로 트랜스포머) 구축, hyperparameter(계층수, 학습률, 배치 크기...) 설정
3. **모델 학습**
   - 모델링 : 주어진 데이터를 기반으로 일반화된 패턴이나 규칙을 만드는 것.
4. **평가 및 검증**
   - 정확도(accuracy)
   - 정밀도(precision)
   - 재현율(recall)
   - F1 점수(F1 score)
   - ROC-curve/AUC
5. **배포 및 유지 보수**

### LLM 생성 후 추가 고려 사항

- 윤리적 고려 및 보정 : 책임감 있는 AI(Responsible AI)
- 지속적 모니터링

---

## 2. LLM 활용하기

### LLM 활용 방법

1. 파인튜닝(Fine-Tuning)
   - 전이 학습(Transfer Learning)의 한 형태로 모델을 특정 분야나 작업에 최적화시키기 위해 추가적인 학습을 시키는 과정
2. RAG(Retrieval-Augmented Generation)
   - 자연어 처리 분야에서 사용되는 기술
   - 정보 검색과 생성을 결합한 인공지능 모델
   - 복잡하고 정보가 필요한 질문에 답변하기 위해 설계
   - 정보 검색 단계
     - 질문: 사용자로부터 질문 입력
     - 쿼리(문서 검색): 모델은 질문과 관련된 문서나 정보 검색(문서 데이터베이스, 콘텐츠 저장소)
     - 정보 검색 결과: 검색 결과 중 가장 관련성 높은 문서와 사용자의 질문을 결합하여 LLM에 전달
   - 텍스트 생성 단계
     - 정보 전달: 모델에 전달(사용자의 질문 + 정보 검색 결과)
     - 텍스트 생성: 전달받은 정보를 바탕으로 질문에 대한 답변 생성
3. 퓨샷 러닝(Few Shot Learning)
   - 매우 적은 양의 데이터로 학습하는 능력
   - 기존에 학습한 지식을 바탕으로 매우 제한된 예시로부터 새로운 작업에 빠르게 적용
   - Zero Shot Learning, One Shot Learning
   - 특정 작업이나 분야에서 충분한 양의 데이터를 확보하기 어려울 때 유용

### LLM 활용 시 주의 사항

- 정보 필터링: 유해 정보, 개인 정보 등 필터링
- 법적인 규제
- Hallucination
- 보안

### LLM의 한계

- 편향과 공정성
- 투명성
- 데이터 의존성
- 정보의 일반화
- 오류 가능성
- 개인 정보 보호
- 새로운 정보의 결여
- 기업 내 데이터 미활용

---

## 3. RAG 훑어보기

### RAG 개념

- RAG(Retrieval-Augmented Generation)
- LLM이 텍스트를 생성할 때 관련 정보를 찾아보고(retrieval), 그 정보를 활용하여 새로운 텍스트를 만드는(generation) 기술

### RAG 구현 과정

1. 정보 검색
   1) 질문 입력
   2) 검색
   3) 유사도 검색
      - keyword search, semantic search
   4) 랭킹 처리: 모델이 생성할 텍스트와 가장 관련이 높은 정보를 선택하는 과정
      - 유사도 계산
      - 문맥과 의도 파악
      - 랭킹 산출

2. 정보 검색 (심화)
   - 벡터와 유사도
   - 유사도 계산
     - 코사인 유사도: 두 벡터 간의 각도를 계산하여 그 유사성을 측정하는 방법
     - 유클리드 유사도: 두 점 사이의 직선 거리
   - 검색 결과 랭킹 처리
     - 페이지랭크(PageRank)
     - TF-IDF(Term Frequency-Inverse Document Frequency)
     - 클릭률(Click-Through Rate, CTR)

3. 텍스트 생성
   1) (검색 엔진의 경우) 결과 반환
   2) (LLM의 경우) 텍스트 생성

### RAG 구현 시 필요한 것

1. 데이터
   - 시맨틱 검색
   - 벡터 검색
     - 임베딩 모델
       - Word2Vec: 단어를 컴퓨터가 이해할 수 있는 숫자인 벡터로 변환하는 모델
2. 
---